{% extends 'layouts/admin-layout.html' %}
{% load static %}


{% block title %} Packages {% endblock title %}


{% block cssFile %}
<link rel="stylesheet" href="{% static 'css/glass.css' %}">
{% endblock cssFile %}
        

{% block content %}


<!-- modal start -->
<div class="modal fade df-fs-sm" id="addForm" tabindex="-1">
    <div class="modal-dialog py-4 mt-5 d-flex justify-content-center">
        <div class="modal-content w-75 py-3 glass-card shadow">
            <div class="modal-body">
                <div class="d-flex align-items-center flex-column gap-3">
                    <a href="{% url 'packages_new' %}" class="w-50 btn df-btn-glass-purple">Create New Package</a>
                    <a class="w-50 btn df-btn-glass-green border border-white">Choose From Templates</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- modal end -->

<div class="px-3 mt-3 df-fs-sm">
    <div class="d-flex justify-content-between">
        <h4 class="df-text-primary">All Packages</h4>
    </div>

    <div class="mt-3">
        <div class="d-flex justify-content-between">
            <div class="d-flex column-gap-2">
                <div>
                    <select class="form-select df-fs-sm">
                        <option value="">All Category</option>
                        <option value="">Resort</option>
                        <option value="">Beach</option>
                        <option value="">Hiking</option>
                    </select>
                </div>
                <div>
                    <select class="form-select df-fs-sm">
                        <option value="">All Time</option>
                        <option value="">This Month</option>
                        <option value="">Last Month</option>
                    </select>
                </div>
                <div>
                    <select class="form-select df-fs-sm">
                        <option value="">Status</option>
                        <option value="">Available</option>
                        <option value="">Full</option>
                    </select>
                </div>
                <div class="d-flex column-gap-2">
                    <input type="text" class="form-control df-fs-sm w-auto" placeholder="Code or Name">
                    <button class="btn df-btn-glass-purple">Search</button>
                </div>
            </div>
                <div>
            <button class="btn btn-admin-blue align-self-end" data-bs-toggle="modal"
                data-bs-target="#addForm">Add a pacakge</button>
        </div>

        </div>
    </div>

    <div class="shadow-sm mt-3">
        <div>
            <table class="table table-hover df-fs-sm">
                <thead class="table-light">
                    <tr class="align-middle">
                        <th>Code</th>
                        <th>Name</th>
                        <th>Category</th>
                        <th>Duration</th>
                        <th>Departure</th>
                        <th class="text-end">Tickets</th>
                        <th class="text-center">Status</th>
                        <th class="text-end">Price</th>
                        <th class="text-end">Bookings</th>
                    </tr>
                </thead>
                <tbody>
                    {% for item in list %}
                    <tr class="align-middle">
                        <td>{{item.code}}</td>
                        <td>{{item.name}}</td>
                        <td>{{item.category}}</td>
                        <td><div class="d-flex align-items-center column-gap-3"><span>{{item.duration}}</span><span>Days</span></div></td>
                        <td>{{item.departure}}</td>
                        <td class="text-end">{{item.tickets}}</td>
                        <td class="text-center">
                            {% if item.status == 'Available' %}
                            <span class="df-badge badge-green">{{item.status}}</span>
                            {% else %}
                            <span class="df-badge badge-red">{{item.status}}</span>
                            {% endif %}
                        </td>
                        <td class="text-end">{{item.price}} MMK</td>
                        <td class="text-end"><a href="{% url 'packages_detail' item.code %}" class="btn btn-sm df-btn-soft-purple">{{item.bookings}}<i class="bi bi-arrow-up-right ms-4 fs-6"></i></a></td>
                    </tr>
                    {% endfor %}
                    <!-- Add any more rows as needed -->
                </tbody>
            </table>
        </div>
    </div>
    
</div>


{% endblock content %}
    